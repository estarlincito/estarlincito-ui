"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const de=require("react"),S=require("../../../../../@radix-ui_primitive@1.1.1/node_modules/@radix-ui/primitive/dist/index.js"),B=require("../../../../../@radix-ui_react-compose-refs@1.1.1_@types_react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-compose-refs/dist/index.js"),ue=require("../../../../../@radix-ui_react-context@1.1.1_@types_react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-context/dist/index.js"),N=require("../../../../../@radix-ui_react-id@1.1.0_@types_react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-id/dist/index.js"),me=require("../../../../../@radix-ui_react-label@2.1.2_@types_react-dom@19.0.4_@types_react@19.0.10__@types_react@_6292b41e3d1ceb1104e2dc903fb790d1/node_modules/@radix-ui/react-label/dist/index.js"),P=require("../../../../../@radix-ui_react-primitive@2.0.2_@types_react-dom@19.0.4_@types_react@19.0.10__@types_re_eba4716596d4f139c393e6187e0b8922/node_modules/@radix-ui/react-primitive/dist/index.js"),C=require("../../../../../../../_virtual/jsx-runtime.js");function ve(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const r=ve(de);var[H,fe]=ue.createContextScope("Form"),U="Form",[Ce,V]=H(U),[Fe,oe]=H(U),$=r.forwardRef((e,t)=>{const{__scopeForm:o,onClearServerErrors:i=()=>{},...a}=e,l=r.useRef(null),v=B.useComposedRefs(t,l),[d,f]=r.useState({}),u=r.useCallback(s=>d[s],[d]),x=r.useCallback((s,m)=>f(c=>({...c,[s]:{...c[s]??{},...m}})),[]),R=r.useCallback(s=>{f(m=>({...m,[s]:void 0})),n(m=>({...m,[s]:{}}))},[]),[F,E]=r.useState({}),M=r.useCallback(s=>F[s]??[],[F]),g=r.useCallback((s,m)=>{E(c=>({...c,[s]:[...c[s]??[],m]}))},[]),y=r.useCallback((s,m)=>{E(c=>({...c,[s]:(c[s]??[]).filter(p=>p.id!==m)}))},[]),[j,n]=r.useState({}),h=r.useCallback(s=>j[s]??{},[j]),b=r.useCallback((s,m)=>{n(c=>({...c,[s]:{...c[s]??{},...m}}))},[]),[_,I]=r.useState({}),w=r.useCallback((s,m)=>{I(c=>{const p=new Set(c[s]).add(m);return{...c,[s]:p}})},[]),T=r.useCallback((s,m)=>{I(c=>{const p=new Set(c[s]);return p.delete(m),{...c,[s]:p}})},[]),k=r.useCallback(s=>Array.from(_[s]??[]).join(" ")||void 0,[_]);return C.jsxRuntimeExports.jsx(Ce,{scope:o,getFieldValidity:u,onFieldValidityChange:x,getFieldCustomMatcherEntries:M,onFieldCustomMatcherEntryAdd:g,onFieldCustomMatcherEntryRemove:y,getFieldCustomErrors:h,onFieldCustomErrorsChange:b,onFieldValiditionClear:R,children:C.jsxRuntimeExports.jsx(Fe,{scope:o,onFieldMessageIdAdd:w,onFieldMessageIdRemove:T,getFieldDescription:k,children:C.jsxRuntimeExports.jsx(P.Primitive.form,{...a,ref:v,onInvalid:S.composeEventHandlers(e.onInvalid,s=>{const m=re(s.currentTarget);m===s.target&&m.focus(),s.preventDefault()}),onSubmit:S.composeEventHandlers(e.onSubmit,i,{checkForDefaultPrevented:!1}),onReset:S.composeEventHandlers(e.onReset,i)})})})});$.displayName=U;var G="FormField",[he,z]=H(G),K=r.forwardRef((e,t)=>{const{__scopeForm:o,name:i,serverInvalid:a=!1,...l}=e,d=V(G,o).getFieldValidity(i),f=N.useId();return C.jsxRuntimeExports.jsx(he,{scope:o,id:f,name:i,serverInvalid:a,children:C.jsxRuntimeExports.jsx(P.Primitive.div,{"data-valid":Z(d,a),"data-invalid":ee(d,a),...l,ref:t})})});K.displayName=G;var q="FormLabel",J=r.forwardRef((e,t)=>{const{__scopeForm:o,...i}=e,a=V(q,o),l=z(q,o),v=i.htmlFor||l.id,d=a.getFieldValidity(l.name);return C.jsxRuntimeExports.jsx(me.Label,{"data-valid":Z(d,l.serverInvalid),"data-invalid":ee(d,l.serverInvalid),...i,ref:t,htmlFor:v})});J.displayName=q;var D="FormControl",Q=r.forwardRef((e,t)=>{const{__scopeForm:o,...i}=e,a=V(D,o),l=z(D,o),v=oe(D,o),d=r.useRef(null),f=B.useComposedRefs(t,d),u=i.name||l.name,x=i.id||l.id,R=a.getFieldCustomMatcherEntries(u),{onFieldValidityChange:F,onFieldCustomErrorsChange:E,onFieldValiditionClear:M}=a,g=r.useCallback(async n=>{if(se(n.validity)){const c=O(n.validity);F(u,c);return}const h=n.form?new FormData(n.form):new FormData,b=[n.value,h],_=[],I=[];R.forEach(c=>{Re(c,b)?I.push(c):je(c)&&_.push(c)});const w=_.map(({id:c,match:p})=>[c,p(...b)]),T=Object.fromEntries(w),k=Object.values(T).some(Boolean),s=k;n.setCustomValidity(s?A:"");const m=O(n.validity);if(F(u,m),E(u,T),!k&&I.length>0){const c=I.map(({id:ae,match:ce})=>ce(...b).then(le=>[ae,le])),p=await Promise.all(c),te=Object.fromEntries(p),ne=Object.values(te).some(Boolean);n.setCustomValidity(ne?A:"");const ie=O(n.validity);F(u,ie),E(u,te)}},[R,u,E,F]);r.useEffect(()=>{const n=d.current;if(n){const h=()=>g(n);return n.addEventListener("change",h),()=>n.removeEventListener("change",h)}},[g]);const y=r.useCallback(()=>{const n=d.current;n&&(n.setCustomValidity(""),M(u))},[u,M]);r.useEffect(()=>{const n=d.current?.form;if(n)return n.addEventListener("reset",y),()=>n.removeEventListener("reset",y)},[y]),r.useEffect(()=>{const n=d.current,h=n?.closest("form");if(h&&l.serverInvalid){const b=re(h);b===n&&b.focus()}},[l.serverInvalid]);const j=a.getFieldValidity(u);return C.jsxRuntimeExports.jsx(P.Primitive.input,{"data-valid":Z(j,l.serverInvalid),"data-invalid":ee(j,l.serverInvalid),"aria-invalid":l.serverInvalid?!0:void 0,"aria-describedby":v.getFieldDescription(u),title:"",...i,ref:f,id:x,name:u,onInvalid:S.composeEventHandlers(e.onInvalid,n=>{const h=n.currentTarget;g(h)}),onChange:S.composeEventHandlers(e.onChange,n=>{y()})})});Q.displayName=D;var A="This value is not valid",Ee={badInput:A,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},L="FormMessage",W=r.forwardRef((e,t)=>{const{match:o,name:i,...a}=e,l=z(L,e.__scopeForm),v=i??l.name;return o===void 0?C.jsxRuntimeExports.jsx(X,{...a,ref:t,name:v,children:e.children||A}):typeof o=="function"?C.jsxRuntimeExports.jsx(ye,{match:o,...a,ref:t,name:v}):C.jsxRuntimeExports.jsx(pe,{match:o,...a,ref:t,name:v})});W.displayName=L;var pe=r.forwardRef((e,t)=>{const{match:o,forceMatch:i=!1,name:a,children:l,...v}=e,f=V(L,v.__scopeForm).getFieldValidity(a);return i||f?.[o]?C.jsxRuntimeExports.jsx(X,{ref:t,...v,name:a,children:l??Ee[o]}):null}),ye=r.forwardRef((e,t)=>{const{match:o,forceMatch:i=!1,name:a,id:l,children:v,...d}=e,f=V(L,d.__scopeForm),u=r.useRef(null),x=B.useComposedRefs(t,u),R=N.useId(),F=l??R,E=r.useMemo(()=>({id:F,match:o}),[F,o]),{onFieldCustomMatcherEntryAdd:M,onFieldCustomMatcherEntryRemove:g}=f;r.useEffect(()=>(M(a,E),()=>g(a,E.id)),[E,a,M,g]);const y=f.getFieldValidity(a),n=f.getFieldCustomErrors(a)[F];return i||y&&!se(y)&&n?C.jsxRuntimeExports.jsx(X,{id:F,ref:x,...d,name:a,children:v??A}):null}),X=r.forwardRef((e,t)=>{const{__scopeForm:o,id:i,name:a,...l}=e,v=oe(L,o),d=N.useId(),f=i??d,{onFieldMessageIdAdd:u,onFieldMessageIdRemove:x}=v;return r.useEffect(()=>(u(a,f),()=>x(a,f)),[a,f,u,x]),C.jsxRuntimeExports.jsx(P.Primitive.span,{id:f,...l,ref:t})}),xe="FormSubmit",Y=r.forwardRef((e,t)=>{const{__scopeForm:o,...i}=e;return C.jsxRuntimeExports.jsx(P.Primitive.button,{type:"submit",...i,ref:t})});Y.displayName=xe;function O(e){const t={};for(const o in e)t[o]=e[o];return t}function ge(e){return e instanceof HTMLElement}function be(e){return"validity"in e}function Me(e){return be(e)&&(e.validity.valid===!1||e.getAttribute("aria-invalid")==="true")}function re(e){const t=e.elements,[o]=Array.from(t).filter(ge).filter(Me);return o}function Re(e,t){return e.match.constructor.name==="AsyncFunction"||Ie(e.match,t)}function je(e){return e.match.constructor.name==="Function"}function Ie(e,t){return e(...t)instanceof Promise}function se(e){let t=!1;for(const o in e){const i=o;if(i!=="valid"&&i!=="customError"&&e[i]){t=!0;break}}return t}function Z(e,t){if(e?.valid===!0&&!t)return!0}function ee(e,t){if(e?.valid===!1||t)return!0}var _e=$,Se=K,Ae=J,Pe=Q,Ve=W,Le=Y;exports.Control=Pe;exports.Field=Se;exports.Form=$;exports.FormControl=Q;exports.FormField=K;exports.FormLabel=J;exports.FormMessage=W;exports.FormSubmit=Y;exports.Label=Ae;exports.Message=Ve;exports.Root=_e;exports.Submit=Le;exports.createFormScope=fe;
